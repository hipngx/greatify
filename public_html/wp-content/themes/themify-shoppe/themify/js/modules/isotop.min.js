'use strict';(function(M,k,u,D){let w=null,J=null;const N={attributes:!0,attributeOldValue:!1,characterDataOldValue:!1,childList:!0,subtree:!0,attributeFilter:["data-lazy","src","class"]},F=[],O={"list-post":100,"list-large-image":100,"list-thumb-image":100,grid2:48.4,"grid2-thumb":48.4,grid3:31.2,grid4:22.6,grid5:17.44,grid6:14},C={},P=new MutationObserver(function(a,b){if(a[0]&&a[0].target&&a[0].target.nodeType!==Node.TEXT_NODE){const d=a[0].target.closest(".masonry-done");d&&setTimeout(function(){k.imagesLoad(d,
function(){const h=u.Isotope.data(d);h&&requestAnimationFrame(function(){h.layout()})})},1200)}}),L=function(){for(let a=F.length-1;-1<a;--a)try{F[a].element.classList.contains("masonry-done")?F[a].layout():F.splice(a,1)}catch(b){F.splice(a,1)}},Q=function(a,b){b&&"object"===typeof b||(b={layoutMode:a.getAttribute("data-layout"),gutter:a.getAttribute("data-gutter"),columnWidth:a.getAttribute("data-column"),itemSelector:a.getAttribute("data-selector"),fitWidth:"1"===a.getAttribute("data-fit"),percentPosition:"0"!==
a.getAttribute("data-percent")},"0"===b.gutter&&(b.gutter=!1),"0"===b.columnWidth&&(b.columnWidth=!1));b.layoutMode||(a.classList.contains("packery-gallery")?(b.layoutMode="packery",b.columnWidth=b.gutter=!1):a.classList.contains("masonry-fit-rows")&&(b.layoutMode="fitRows"));const d={originLeft:!k.isRTL,resize:!1,containerStyle:null,onceLayoutComplete:b.onceLayoutComplete,layoutComplete:b.layoutComplete,arrangeComplete:b.arrangeComplete,removeComplete:b.removeComplete,filterCallback:b.filterCallback},
h=b.layoutMode?b.layoutMode:"masonry";d.layoutMode=h;d[h]={};d[h].columnWidth=b.columnWidth;d[h].gutter=b.gutter;d.itemSelector=b.itemSelector?b.itemSelector:a.classList.contains("products")?".products>.product":a.classList.contains("gallery-wrapper")?".item":".loops-wrapper > .post";d.stagger=b.stagger?b.stagger:30;!0===b.fitWidth&&(d[h].fitWidth=!0);b.stamp&&(d.stamp=b.stamp);d.percentPosition=!0===b.fitWidth?!1:void 0===b.percentPosition?!0:b.percentPosition;k.imagesLoad(a,function(g){g=g.elements[0];
const p=g.previousElementSibling;var m="",f=0,n=!1===d[h].gutter?!1:!g.classList.contains("no-gutter");let x=g.getElementsByClassName("gutter-sizer")[0];var l=Isotope.data(g);const E=function(){x&&(x.remove(),x=!1)};l&&(l.destroy(),E());if(g.classList.contains("auto_tiles"))null!==p&&p.classList.contains("post-filter")&&k.trigger("themify_isotop_filter",[p,void 0,d.filterCallback]);else{for(let A=g.classList,e=A.length-1;-1<e;--e)if(void 0!==O[A[e].trim()]){m=A[e].trim();break}if("list-post"===m||
"list-large-image"===m||"list-thumb-image"===m){if(null===p||!p.classList.contains("post-filter")){E();return}n=!1}C.masonry_done||(C.masonry_done=!0,null===w?(w=D.createElement("style"),w.innerText=".masonry>.post,.products.masonry>.product{animation-fill-mode:backwards;transition:none;animation:none;clear:none!important;margin-right:0!important;margin-left:0!important}.masonry-done{opacity:1}",D.head.prepend(w)):w.innerText+=".masonry>.post,.products.masonry>.product{animation-fill-mode:backwards;transition:none;animation:none;clear:none!important;margin-right:0!important;margin-left:0!important}.masonry-done{opacity:1}");
!0===n?(x?f=x:(f=D.createElement("div"),f.className="gutter-sizer",g.insertBefore(f,g.firstChild)),g.classList.contains("tf_fluid")||(m="",l=g.classList.contains("products"),n=g.classList.contains("gutter-narrow")?1.6:3.2,C[n+l]||(C[n+l]=!0,l=l?".products":"",1.6===n&&(l+=".gutter-narrow"),""!==l&&(l+=">"),m+=l+".gutter-sizer{width:"+n+"%}"),C.contain||(C.contain=!0,m+=".gutter-sizer{contain:paint style size}@media (max-width:680px){.gutter-sizer{width:0}}"),m&&(w.innerText=m+w.innerText))):E();d[h].gutter=
f;g.classList.add("masonry-done","tf_rel");f=new Isotope(g,d);F.push(f);P.observe(g,N);null!==p&&p.classList.contains("post-filter")&&k.trigger("themify_isotop_filter",[p,f,d.filterCallback]);f.revealItemElements(f.items);if(d.onceLayoutComplete)f.once("layoutComplete",d.onceLayoutComplete);if(d.layoutComplete)f.on("layoutComplete",d.layoutComplete);if(d.arrangeComplete)f.on("arrangeComplete",d.arrangeComplete);if(d.removeComplete)f.on("removeComplete",d.removeComplete);f.layout()}})},K=function(a,
b){if(u.imagesLoaded&&"undefined"!==typeof jQuery.fn.packery){void 0===a.length&&(a=[a]);for(let d=a.length-1;-1<d;--d)k.requestIdleCallback(function(){Q(a[d],b)},500)}};k.on("tf_isotop_init",function(a,b){u.imagesLoaded||k.imagesLoad(function(){K(a,b)});"undefined"===typeof jQuery.fn.packery&&k.LoadAsync(k.jsUrl+"jquery.isotope.min.js",function(){K(a,b)},"3.0.6",null,function(){return"undefined"!==typeof jQuery.fn.packery});K(a,b)}).on("themify_isotop_filter",function(a,b,d){if(!a.hasAttribute("data-done")){a.setAttribute("data-done",
1);var h=a.children,g=h.length,p=a.nextElementSibling,m=a.hasAttribute("data-ajax"),f=!0===m&&a.hasAttribute("data-sort"),n=0;C.post_filter||(C.post_filter=!0,null===w?(w=D.createElement("style"),w.innerText=".post-filter{transition:opacity .2s ease-in-out}",D.head.prepend(w)):w.innerText+=".post-filter{transition:opacity .2s ease-in-out}");if(!1===m)for(let l=g-1;-1<l;--l){var x=h[l].getAttribute("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","");x=p.querySelector(".cat-"+
x);null===x||x.parentNode!==p?(h[l].style.display="none",++n):h[l].style.display=""}1<g-n?(a.classList.remove("tf_opacity"),a.style.display=""):a.style.display="none";if(b||p.classList.contains("auto_tiles")){let l;const E=function(A){A.preventDefault();a.parentNode.classList.remove("tb_hide_loadmore");const e=A.target.closest(".cat-item");if(e){let y="*";const r=this.nextElementSibling;if(e.classList.contains("active")){if(e.classList.remove("active"),!0===f){k.triggerEvent(a.querySelector(".cat-item-all"),
"click");return}}else{var c=this.querySelector(".cat-item.active");c&&c.classList.remove("active");e.classList.contains("cat-item-all")||(y=e.getAttribute("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ",""));e.dataset.p||(e.dataset.p=1);!0===m&&(e.dataset.done&&a.parentNode.classList.add("tb_hide_loadmore"),e.dataset.empty?a.parentNode.classList.add("tb_empty_filter"):a.parentNode.classList.remove("tb_empty_filter"));if(!0!==m||e.dataset.done||e.dataset.loading||e.dataset.init)!0===
m&&e.dataset.loading&&delete e.dataset.loading;else{e.dataset.init=!0;e.dataset.loading=!0;r.parentNode.classList.contains("tf_ajax_filter_loading")?l.abort():r.parentNode.classList.add("tf_ajax_filter_loading");l=new AbortController;const G=this;c=new FormData;c.append("action","themify_ajax_load_more");c.append("type","module");c.append("module",a.dataset.el);c.append("id",a.dataset.id);c.append("page",e.dataset.p);"*"!==y&&c.append("tax",y);if(!0===f){var z=a.querySelector(".tf_ajax_sort_order.active"),
B=a.querySelector(".tf_ajax_sort_order_by .active");z&&c.append("order",z.dataset.type);B&&c.append("orderby",B.dataset.orderBy)}fetch(themify_vars.ajax_url,{signal:l.signal,headers:new Headers({"X-Requested-With":"XMLHttpRequest"}),method:"POST",body:c}).then(function(t){return t.text()}).then(function(t){t=(new DOMParser).parseFromString(t,"text/html");var q=t.querySelector("."+a.dataset.el+" .loops-wrapper");t=t.querySelector(".load-more-button");if(null!==q){q=k.convert(q.children);var v=D.createDocumentFragment();
const R=q.length;if(void 0!==q[0]){for(let H=0;H<R;++H)q[H].className+=" tf_opacity",v.appendChild(q[H]);if(a.dataset.reload){var I=r.querySelectorAll(".post");delete a.dataset.reload}r.appendChild(v)}null===t?(e.dataset.done=!0,a.parentNode.className+=" tb_hide_loadmore"):"*"===y&&(v=r.parentNode.querySelector(".load-more-button"))&&(v.href=v.dataset.url,v.dataset.page=t.dataset.page);0<q.length?(e.dataset.p=parseInt(e.dataset.p)+1,k.trigger("tf_isotop_append",[{"new":q,remove:I},r,function(){r.parentNode.classList.remove("tf_ajax_filter_loading");
E.bind(G)(A)}])):(e.dataset.empty=!0,null===r.parentNode.querySelector(".tb_empty_filter_msg")&&(I=D.createElement("span"),I.className="tb_empty_filter_msg tf_hide",I.innerText=themify_vars.nop,r.parentNode.appendChild(I)),r.parentNode.classList.remove("tf_ajax_filter_loading"),E.bind(G)(A))}}).catch(function(t){console.warn("Ajx filter error!",t)});return}e.className+=" active"}if(null!==r){a.hasAttribute("data-hash")&&(e.classList.contains("active")&&e.dataset.id?location.hash=e.dataset.id:-1<u.location.hash.indexOf(a.dataset.hash)&&
(u.history&&u.history.pushState?u.history.pushState("","",u.location.pathname):u.location.href=u.location.href.replace(/#.*$/,"#")));c=u.Isotope.data(r);if(r.classList.contains("auto_tiles")){z=r.children;for(B=z.length-1;-1<B;--B)z[B].classList.contains("post")&&!z[B].style.width&&(z[B].style.width=z[B].offsetWidth+"px",z[B].style.height=z[B].offsetHeight+"px");r.classList.add("masonry-done");c||(680>k.w?c=0:(c=u.getComputedStyle(r).getPropertyValue("grid-row-gap"))?c=parseFloat(c):"0"!=c&&(c=5),
c=new Isotope(r,{layoutMode:"packery",packery:{gutter:c},resize:!1}));if("*"===y){const G=function(){const t=this;this.off("arrangeComplete",G);setTimeout(function(){if("*"===y){const q=t.element.children;for(let v=q.length-1;-1<v;--v)q[v].classList.contains("post")&&(q[v].style.width=q[v].style.height=q[v].style.position=q[v].style.left=q[v].style.top="");t.element.classList.remove("masonry-done");t.element.style.height=t.element.style.position=""}},20)};c.once("arrangeComplete",G)}}c&&(y=!0===m?
"*"===y?".initial-cat":".ajax-cat-"+y:"*"===y?y:".cat-"+y.trim()+",.cat-all",c.arrange({filter:y}),d&&d.call(c,e,y))}}else if(!0===f&&(c=A.target.closest(".tf_ajax_sort_order")||A.target.closest("[data-order-by]")?A.target:null,null!==c&&!c.classList.contains("active"))){(z=c.parentNode.querySelector(".active"))&&z.classList.remove("active");c.className+=" active";for(c=g-1;-1<c;--c)delete h[c].dataset.init,delete h[c].dataset.done,delete h[c].dataset.p;a.dataset.reload=!0;if(c=a.querySelector(".cat-item.active")||
a.querySelector(".cat-item-all"))c.classList.remove("active"),k.triggerEvent(c,"click")}};a.addEventListener("click",E);b=u.location.hash.replace("#","");""!==b&&"#"!==b&&(b=a.querySelector('[data-id="'+b+'"]'))&&b.click()}}}).on("tf_isotop_layout",L).on("tfsmartresize",L).on("tf_isotop_append",function(a,b,d){const h=a["new"].length,g=M(b),p=void 0!==u.Isotope?u.Isotope.data(b):null;null===J&&(J=/^((?!chrome|android).)*safari/i.test(navigator.userAgent));let m=0;for(let f=0;f<h;++f)a["new"][f].style.display=
"none",k.imagesLoad(a["new"][f],function(n){n=n.elements[0];if(J){const x=n.querySelector("img[srcset]");null!==x&&(x.outerHTML=x.outerHTML)}++m;p&&p.appended(n);a["new"][f].classList.remove("tf_opacity");if(m===h){if(p||g[0].classList.contains("auto_tiles"))g[0].classList.contains("auto_tiles")&&k.autoTiles(g[0]),p&&a.remove&&p.remove(a.remove);for(n=0;n<h;++n)k.lazyScroll(k.convert(k.selectWithParent("[data-lazy]",a["new"][n])).reverse(),!0);k.fontAwesome();d()}})})})(jQuery,Themify,window,document);

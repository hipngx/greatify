'use strict';(function(a,h,e){const f={topOffset:"50%",isFrameLoading:!1,lightboxOpen:!1,doOnOrientationChange(){f.lightboxOpen&&setTimeout(function(){f.topOffset=window.scrollTop;a("#post-lightbox-wrap").animate({top:f.topOffset},300)},300)},addToBasket(){const d=h.createElement("div"),g=h.createElement("h3"),b=h.createElement("a"),c=h.createElement("a");d.className="tf_textc lightbox-added";g.textContent=themifyScript.lng.add_to;b.className="button outline";b.href="#";b.textContent=themifyScript.lng.keep_shop;
b.addEventListener("click",this.closeLightBox,{once:!0});c.href=themifyScript.checkout_url;c.className="button checkout";c.textContent=themifyScript.lng.checkout;d.appendChild(g);d.appendChild(b);d.appendChild(c);return d},init(){const d=h.createDocumentFragment(),g=e.body,b=h.createElement("div"),c=h.createElement("div"),k=h.createElement("div"),l=h.createElement("a");b.id="post-lightbox-wrap";b.className="tf_hide tf_scrollbar";c.id="pattern";c.className="tf_hide tf_w tf_h";k.id="post-lightbox-container";
k.className="tf_box tf_w tf_overflow";l.className="close-lightbox";l.href="#";c.addEventListener("click",this.closeLightBox);l.addEventListener("click",this.closeLightBox);b.appendChild(l);b.appendChild(k);d.appendChild(b);d.appendChild(c);g[0].appendChild(d);h.addEventListener("keyup",this.keyUp,{passive:!0});e.isTouch&&window.addEventListener("orientationchange",this.doOnOrientationChange,{passive:!0});g.on("click",".themify-lightbox",this.clickLightBox).on("added_to_cart",function(){f.lightboxOpen&&
(a("#post-lightbox-wrap").addClass("lightbox-message"),a("#post-lightbox-container").slideUp(400,function(){a(this).empty();this.appendChild(f.addToBasket());a(this).slideDown()}))})},clickLightBox(d){d.preventDefault();if(f.isFrameLoading)return!1;let g=a(this).prop("href");var b=a(this).closest(".product,.slide-inner-wrap");d=b.find(".product-image img,.post-image img");let c=a("#post-lightbox-container"),k=a("#post-lightbox-wrap"),l=e.body;b=b.find(".product-image,.post-image");let n;d=d.length?
d.prop("src"):a(this).data("image");d="undefined"!==typeof d?d:themifyScript.placeholder;b=b.length?b:a(this).closest(".type-product");n=180>b.outerWidth(!0)?b.outerWidth(!0):180;e.initWC(!0);a(".themibox-clicked").removeClass("themibox-clicked");a(this).addClass("themibox-clicked");f.isFrameLoading=!0;l.addClass("post-lightbox").css("overflow-y","hidden");k.hide().removeClass("lightbox-message").addClass("post-lightbox-prepare woocommerce");c.html('<div class="post-lightbox-iframe"><div class="post-lightbox-main-image"><img src="'+
d+'"/></div></div>');k.css({width:b.outerWidth(!0),height:b.outerHeight(!0),top:b.offset().top-a(window).scrollTop()+b.outerHeight(!0)/2,left:b.offset().left-a(window).scrollLeft()+parseInt(b.outerWidth(!0)/2)}).fadeIn().animate({width:n,top:"50%",left:"50%"},"fast",function(){themify_vars.wc_js||(g=e.UpdateQueryString("load_wc","1",g));a.ajax({url:e.UpdateQueryString("post_in_lightbox","1",g),beforeSend:function(){a("#pattern").hide().fadeIn(300);c.addClass("post-lightbox-flip-infinite")},success:function(p){let q=
!0;e.imagesLoad(a('<div class="post-lightbox-temp" id="post-lightbox-wrap"><div id="post-lightbox-container"><div class="post-lightbox-iframe">'+p+"</div></div></div>").prependTo("body"),function(){const t=a("#post-lightbox-wrap.post-lightbox-temp").outerHeight(!0);a("#post-lightbox-wrap.post-lightbox-temp").remove();let m=h.getElementsByClassName("pswp")[0];c.children(".post-lightbox-iframe").append(p);const r=c[0].getElementsByClassName("share-wrap");0<r.length&&void 0===e.cssLazy.theme_social_share&&
e.LoadCss(themify_vars.theme_url+"/styles/wc/modules/social-share.css",themify_vars.theme_v,h.getElementById("themify_concate-css").nextElementSibling,null,function(){e.fontAwesome(r[0]);e.cssLazy.theme_social_share=!0});m||(m=c[0].getElementsByClassName("pswp")[0])&&e.body[0].prepend(m);c.one("animationiteration",function(){q&&(q=!1,a(this).removeClass("post-lightbox-flip-infinite"),k.addClass("animate_start").animate({width:960,height:t},"normal",function(){"mobile"===e.device&&(f.topOffset=a(window).scrollTop()+
10);f.isFrameLoading=!1;f.lightboxOpen=!0;a(this).removeClass("post-lightbox-prepare animate_start");e.trigger("themiboxloaded",this).initWC(!0);"function"===typeof ThemifyShoppeAjaxCart&&this.querySelector("form.cart").addEventListener("submit",ThemifyShoppeAjaxCart)}))})})}})})},closeLightBox(d){d.preventDefault();f.lightboxOpen&&a("#pattern").fadeOut(300,function(){const g=a("#post-lightbox-wrap"),b=function(){a(".post-lightbox-iframe").empty();e.body.removeClass("post-lightbox").css("overflow-y",
"visible");e.trigger("themiboxclosed");f.lightboxOpen=!1};if(g.hasClass("lightbox-message"))g.animate({top:"150%"},500,b);else{let c=a(".themibox-clicked").closest(".type-product,.slide-inner-wrap").find(".product-image,.post-image");c=c.length?c:a(".themibox-clicked").closest(".type-product");g.addClass("animate_start post-lightbox-prepare animate_closing").animate({width:c.outerWidth(!0),height:c.outerHeight(!0)},"normal",function(){a(this).find("#pagewrap").remove();a(this).removeClass("animate_start animate_closing woocommerce").delay(100).animate({top:c.offset().top-
a(window).scrollTop()+c.outerHeight(!0)/2,left:c.offset().left-a(window).scrollLeft()+parseInt(c.outerWidth(!0)/2)},"normal",function(){a(this).fadeOut();b()})})}})},keyUp(d){f.lightboxOpen&&27===d.keyCode&&a(".close-lightbox").click()}};e.on("themify_theme_themibox_run",function(){f.init()},!0)})(jQuery,document,Themify);
